承知いたしました。これまでの議論の全てを反映し、各項目の設計意図を含んだ形でゲーム要件定義書としてまとめます。

---

## ゲーム要件定義書：『Apocalypse Weaver -終焉を織る者-』（仮）

### 1. 概要

| 項目 | 内容 |
| :--- | :--- |
| **ゲームタイトル（案）** | 『Apocalypse Weaver -終焉を織る者-』<br>『The Last Caster -最後の詠唱-』<br>『World Ender's Symphony -世界終焉の交響詩-』 |
| **ジャンル** | デッキ構築・ローグライク・オートシューティング（Bullet Heaven / Vampire Survivorsライク） |
| **プラットフォーム** | Webアプリケーション(Next.js TypeScript Tailwind CSS Mantineを使用する)|
| **対象プレイヤー** | ローグライクやシューティングゲームのファン。戦略的なビルド構築と、圧倒的な爽快感を求めるプレイヤー。 |
| **マネタイズ** | 未定（本定義書では一旦考慮しない） |

### 2. コンセプト

**「最強の悪」となり、世界に終焉をもたらすダークファンタジー体験。**

プレイヤーは世界を滅ぼす大魔法使いの役割を担い、自らを阻止しに来る光の軍勢（英雄、天使など）を殲滅する。ウェーブを乗り越えるたびに新たな魔法を習得・強化し、自分だけの「終末の呪文」を構築する。目的は、エンドレスな戦いを何ターン生き延びられるかを競い、ハイスコアを目指すことである。

**【設計意図】**
*   **逆転の発想:** プレイヤーを「悪」の立場に置くことで、一般的なヒーロー物語にはない背徳的なカタルシスと新鮮なゲーム体験を提供する。
*   **シンプルな操作と奥深い戦略性:** 操作は移動のみに絞り、アクションゲームが苦手な層にもアプローチしやすくする。面白さの核を、プレイごとに変化する状況で最適な選択肢を選び続ける「デッキ構築」の戦略性に置く。

### 3. コアゲームメカニクス

#### 3.1. ゲームループ

ゲームは「戦闘フェーズ」と「強化フェーズ」の繰り返しで進行する。

1.  **戦闘フェーズ:**
    *   画面内外から出現する敵の攻撃や接触を回避する。
    *   習得済みの魔法は、マナが足りていればクールダウン完了時に自動で発動する。
    *   敵を倒すとドロップする「魂のかけら（経験値）」を収集し、画面上部の経験値ゲージを溜める。
2.  **強化フェーズ:**
    *   経験値ゲージが満タンになるとレベルアップし、戦闘が一時停止する。
    *   画面に提示される3枚のカードから1枚を選択し、プレイヤーを強化する。
    *   選択後、戦闘フェーズが再開される。

**【設計意図】**
*   **中毒性の高いサイクル:** 「戦闘での緊張と爽快感」→「レベルアップでの達成感と戦略的選択」→「強化された力でのさらなる戦闘」というサイクルを短時間で繰り返すことで、プレイヤーに高い中毒性と「あと1ターンだけ」と思わせる継続的な動機を与える。

#### 3.2. プレイヤーアクションとリソース

| 項目 | 仕様 | 設計意図 |
| :--- | :--- | :--- |
| **移動** | ・PC: マウスカーソルを自動追従<br>・モバイル: 指でドラッグした位置に追従 | 複雑な操作を排除し、プレイヤーが敵の弾幕回避とリソース管理という思考に集中できるようにするため。 |
| **HP (生命力)** | ・初期値: 100<br>・敵の攻撃や接触、特定の「代償」で減少。<br>・0になるとゲームオーバー。 | ゲームの最も基本的な生存条件。シンプルで分かりやすい指標とする。 |
| **マナ (魔力)** | ・初期値: 100<br>・魔法発動時に消費。<br>・毎秒自動で回復（初期値: 5マナ/秒）。<br>・枯渇すると対応する魔法が発動不可になる。 | 単なる火力インフレを防ぎ、「どの魔法を、どの頻度で使うか」というリソース管理の戦略性を導入するため。高コスト魔法と低コスト魔法の組み合わせを考える楽しさを生む。 |

#### 3.3. 成長システム（カード選択）

レベルアップ時に提示されるカードは以下の3種類。

1.  **新しい魔法の習得:** 新たな攻撃/補助手段を追加する。
2.  **既存魔法の強化:** 習得済みの魔法をレベルアップさせ、威力、範囲、効果などを向上させる。
3.  **魔法調整盤:** 全魔法や特定属性の魔法に、**「恩恵（メリット）」**と**「代償（デメリット）」**を同時に付与する。

**【設計意図】**
*   **選択のジレンマ:** 常に複数の選択肢を提示し、プレイヤーに「今の状況で最適な一手は何か」「将来のビルドを見据えて何を選ぶべきか」を考えさせる。
*   **ハイリスク・ハイリターンの導入:** 「魔法調整盤」は、プレイヤーに能動的なリスクテイクを促す。回避やリソース管理に自信があれば大きなリターンを、安定を求めるならリスクを避ける、というプレイスタイルの分岐を生み出す。

#### 3.4. 魔法システム

*   **属性:** 魔法は「打撃」「炎」「氷」「雷」「爆発」「切断」の属性を持つ。それぞれの魔法はメリットとデメリットをもつ。爆発は範囲内の自分がダメージを受け、切断は被弾すれば自分にも大きなダメージを与える可能性がある。炎は自分を着火する可能性があり、氷と雷は自分が被弾すると一定時間動けなくなる。打撃は自傷がないが、威力が低い。
*   **シナジー:**
    *   **属性共鳴:** 同じ属性の魔法を規定数集めると、強力なパッシブ効果が発動する。
    *   **合成魔法:** 特定の魔法同士を最大レベルまで強化すると、それらが融合し、全く新しい強力な魔法へと進化する。

**【設計意D図】**
*   **ビルドの深掘り:** 単一の魔法を強化するだけでなく、魔法同士の組み合わせを考える楽しさを提供する。プレイヤーに「あの合成魔法を作ってみたい」という中期的な目標を持たせ、リプレイ性を高める。

### 4. コンテンツ

#### 4.1. 敵キャラクター

*   **役割（ロール）:** 敵は明確な役割を持つ。
    *   **先鋒隊（壁役）:** 数でプレイヤーの移動を制限する。
    *   **狙撃手（遠距離役）:** 位置取りを意識させる。
    *   **妨害者（デバフ役）:** 安全地帯を奪う。
    *   **指揮官（バフ役）:** 優先的に倒すべきターゲット。
*   **ボス級ユニット:** 特定ターンごとに出現する「勇者」「天使長」など。予兆表示付きの広範囲攻撃を放ち、プレイヤーに精密な回避を要求する。

**【設計意図】**
*   **戦術的な脅威:** 敵を単なる的ではなく、それぞれが異なる対処法を要求する「パズルピース」として設計する。これにより、回避行動が単調な作業にならず、常に戦術的な判断が求められるようになる。

#### 4.2. プレイアブルキャラクター

*   初期キャラクターは1種類。
*   メタプログレッションにより、異なる初期能力や初期魔法を持つ新キャラクターを解放可能。

**【設計意図】**
*   **リプレイ性の向上:** キャラクターを変えることで、ゲーム開始時の戦略やビルド構築の方向性が変化し、新鮮な気持ちで何度もプレイできるようにする。

### 5. 演出・世界観

#### 5.1. ビジュアル

*   **背景:** 夜空を舞台とする。ターン経過と共に、月が破壊され、空が紫色に変色するなど、世界の終末が進行していく様子を視覚的に表現する。
*   **カードデザイン:** トレーディングカードゲームを彷彿とさせる、コレクション欲を刺激するデザイン。属性やレアリティで装飾が変化する。

**【設計意図】**
*   **没入感の強化:** プレイヤーの行動（生存時間の経過）が、直接的に世界の崩壊に繋がっていることを視覚的に示すことで、ロールプレイへの没入感を高める。

#### 5.2. サウンド・テキスト

*   **終焉の詠唱:** ターン数に応じて「第一楽章：静寂のプレリュード」のような物語的なテキストを表示し、ゲームの進行を壮大な儀式の一部として演出する。
*   **敵のセリフ:** 勇者や天使は「正義」や「希望」を叫びながら攻撃してくる。

**【設計意図】**
*   **背徳感の増幅:** 敵の悲壮な抵抗を描くことで、プレイヤーの「悪」としての行為を際立たせ、倒した時のカタルシスを最大化する。

### 6. メタシステム

#### 6.1. メタプログレッション

*   ゲームオーバー時に、スコア（生存時間）に応じて永続的強化用のリソース「絶望の残滓」を獲得する。
*   これを使用して、次回以降のプレイを恒久的に有利にするアップグレード（初期HP増加、マナ回復速度UP、取得経験値UPなど）を解放する。

**【設計意図】**
*   **継続的なプレイの動機付け:** プレイがうまくいかなくても、少しずつ自キャラを強化できるため、プレイヤーのモチベーションを維持し、再挑戦を促す。

#### 6.2. 実績システム（魔導書）

*   一度でも使用した「魔法」「調整盤」「合成魔法」が自動的に記録されるコレクションブック。
*   各項目にはフレーバーテキストが記載され、世界観を補強する。
*   魔導書の**達成率（埋めた数）に応じて、メタプログレッション用のポイントがボーナスとして付与**される。

**【設計意図】**
*   **やり込み要素の提供:** 単なるハイスコアアタックだけでなく、「全魔法のコンプリート」という別の目標を与える。
*   **多様なビルドの推奨:** 強いビルドの繰り返しだけでなく、未取得の魔法を試すインセンティブを生み出し、ゲームの多様な側面をプレイヤーに体験させる。

### 7. UI/UX (Vampire Survivors参考)

| 項目 | 仕様 |
| :--- | :--- |
| **ゲーム画面 HUD** | ・上部: 生存時間、レベル、経験値ゲージ<br>・左側: 習得済みアイテムアイコンリスト<br>・下部: HPバー、マナバー |
| **レベルアップ画面** | 中央に3枚のカードを提示。イラスト、名称、効果説明を記載。 |
| **ポーズ/リザルト画面** | ・ポーズ: 現在のステータス強化値を一覧表示<br>・リザルト: スコア、与ダメージランキング、獲得リソースを表示 |

**【設計意図】**
*   **情報へのアクセシビリティ:** プレイヤーが必要とする情報を直感的に理解できるレイアウトを採用し、ストレスなくゲームプレイに集中できるようにする。

### 8. 詳細な数値バランス（初期案）

| 項目 | 初期値・計算式 |
| :--- | :--- |
| **プレイヤー初期HP** | 100 |
| **プレイヤー初期マナ** | 100 |
| **マナ秒間回復量** | 5 |
| **プレイヤー移動速度** | 300 unit/秒 |
| **レベルアップ必要経験値** | `(前レベル必要経験値) * 1.3 + 50` |
| **[雑魚] 兵士 HP** | 10 |
| **[遠距離] 弓兵 HP** | 8 |
| **[エリート] 聖騎士 HP** | 150 |

**【設計意図】**
*   **調整の基盤:** これらの数値は、プロトタイピングとテストプレイを通じてゲームの「手触り」を調整するための、最初のたたき台として設定する。

---
以上